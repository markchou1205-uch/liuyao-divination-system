<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…è²»æ±‚å¦ - å‘½ç†æ•™è§€å®¤æ–‡ç‹å¦ç³»çµ±</title>
    <link rel="stylesheet" href="/assets/style.css">
    <link rel="stylesheet" href="/assets/learning-mode.css">
    <link rel="stylesheet" href="/assets/divination-page.css">
    <link rel="stylesheet" href="/assets/ai-divination.css">
    <script>
  // é—œé–‰ä¸€èˆ¬ log / debug / infoï¼ˆä¿ç•™ errorï¼‰
  (function () {
    const SILENCE = true;         // æƒ³å†æ‰“é–‹å°±è¨­ç‚º false
    const FILTER_PREFIXES = [
      '[GUA DEBUG]', '[AI DEBUG]', 'initializeEventListeners', 'å­¸ç¿’æ¨¡å¼å·²åˆå§‹åŒ–',
      'Google Drive API åˆå§‹åŒ–å®Œæˆ', 'æº–å‚™é¡¯ç¤ºå¼•å°ç²¾éˆ', 'Tutorial status:'
    ];
    if (!SILENCE) return;
    const orig = { log: console.log, debug: console.debug, info: console.info, warn: console.warn };
    function dropper(fn) {
      return function () {
        try {
          const msg = arguments[0] + '';
          // åªè¦ä»¥é€™äº›å‰ç¶´é–‹é ­å°±æŠ‘åˆ¶ï¼›ä½ ä¹Ÿå¯ä»¥ç›´æ¥å…¨éƒ¨éœéŸ³
          if (FILTER_PREFIXES.some(p => msg && msg.indexOf && msg.indexOf(p) === 0)) return;
        } catch(e) {}
        // å…¨é¢éœéŸ³ï¼ˆå¦‚æœä½ è¦å…¨éƒ¨é—œæ‰ï¼ŒæŠŠä¸‹ä¸€è¡Œä¹Ÿè¨»è§£æ‰ï¼‰
        // return;
        // é è¨­ï¼šå…¨é¢é—œé–‰ log/debug/infoï¼Œwarn è¦–éœ€è¦
      };
    }
    console.log = dropper(orig.log);
    console.debug = dropper(orig.debug);
    console.info = dropper(orig.info);
    // è‹¥é€£ warn ä¹Ÿä¸æƒ³çœ‹ï¼Œæ‰“é–‹ä¸‹ä¸€è¡Œï¼›å¦å‰‡ä¿ç•™è­¦å‘Š
    // console.warn = dropper(orig.warn);
  })();
</script>

    <script src="https://apis.google.com/js/api.js"></script>
    <script src="https://accounts.google.com/gsi/client"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <style>
      /* è¦†è“‹æ‰€æœ‰ modal overlay ç‚ºé»‘è‰²ä¸é€æ˜ */
      .tutorial-overlay { background: #000 !important; }
      #simple-interpretation-modal { background: #000 !important; }
      /* ç§»é™¤èª¿è©¦ç´…æ¡†ï¼ˆä¸å½±éŸ¿æ­£å¸¸é‚Šç·šï¼‰ */
      #section1,
      .section {
      border: none !important;
      outline: none !important;
      }
    </style>
</head>
<body>
<!-- å³ä¸Šè§’é€£çµåˆ°å¦å¸«é é¢ -->
<div id="professional-link" onclick="goToProfessional()" style="
    position: fixed;
    top: 20px;
    right: 20px;
    padding: 10px 20px;
    background: linear-gradient(135deg, #f5576c, #f093fb);
    color: white;
    border: none;
    border-radius: 25px;
    cursor: pointer;
    z-index: 1000;
    font-size: 14px;
    font-weight: bold;
    text-decoration: none;
    box-shadow: 0 2px 10px rgba(245, 87, 108, 0.3);
    transition: all 0.3s ease;
" onmouseover="this.style.transform='scale(1.05)'; this.style.boxShadow='0 4px 15px rgba(245, 87, 108, 0.4)'" 
   onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0 2px 10px rgba(245, 87, 108, 0.3)'">
    ğŸ§™â€â™‚ï¸ å¦å¸«é é¢
</div>

    <div class="container">
      <div class="system-title">å…è²»æ±‚å¦ - æ–‡ç‹å¦ç³»çµ±</div>
        <!-- å€å¡Š1 -->
        <div class="section active" id="section1">
            <div class="section-header" id="method-selection-row">
                <div class="form-group">
                    <label>èµ·å¦æ–¹å¼ï¼š</label>
                    <select id="divination-method">
                        <option value="">è«‹é¸æ“‡</option>
                        <option value="liuyao">å…­çˆ»èµ·å¦</option>
                        <option value="random">éš¨æ©Ÿèµ·å¦</option>
                    </select>
                </div>

                <!-- æˆ‘è¦å•é¸å–® -->
                <div class="form-group">
                    <label>æˆ‘è¦å•ï¼š</label>
                    <select id="question-type">
                        <option value="">è«‹é¸æ“‡</option>
                        <option value="love-female">æ„Ÿæƒ…/å•å¥³æ–¹</option>
                        <option value="love-male">æ„Ÿæƒ…/å•ç”·æ–¹</option>
                        <option value="parents">å•çˆ¶æ¯</option>
                        <option value="children">å•å­å¥³</option>
                        <option value="career">å•äº‹æ¥­</option>
                        <option value="health">å•å¥åº·</option>
                        <option value="wealth">å•è²¡å¯Œ</option>
                        <option value="partnership">å•åˆä½œåˆå¤¥</option>
                        <option value="lawsuit">å•å®˜å¸</option>
                    </select>
                </div>

                <!-- éš±è—çš„å–ç”¨ç¥é¸å–® -->
                <div class="form-group" style="display: none;">
                    <label>å–ç”¨ç¥ï¼š</label>
                    <select id="yongshen-method">
                        <option value="">è«‹é¸æ“‡</option>
                        <option value="shi">ä¸–</option>
                        <option value="ying">æ‡‰</option>
                        <option value="xiongdi">å…„å¼Ÿ</option>
                        <option value="zisun">å­å­«</option>
                        <option value="qicai">å¦»è²¡</option>
                        <option value="guanGui">å®˜é¬¼</option>
                        <option value="fumu">çˆ¶æ¯</option>
                    </select>
                </div>
             
                <!-- èµ·å¦çµæœé¡¯ç¤ºå€ -->
                <div class="result-inline" id="result-inline">
                    <span id="result-text"></span>
                </div>
            </div>
            
            <div class="section-header" id="date-selection-row" style="border-top: 1px solid #ddd;">
                <!-- éš±è—çš„æ—¥æœŸæ–¹æ³•é¸å–® -->
                <div class="form-group" style="display: none;">
                    <label>èµ·å¦æ—¥æœŸï¼š</label>
                    <select id="date-method">
                        <option value="current">ç¾åœ¨æ—¥æœŸ</option>
                    </select>
                </div>
                
                <!-- é–‹å§‹èµ·å¦æŒ‰éˆ• -->
                <button class="btn" onclick="startDivination()">é–‹å§‹èµ·å¦</button>
            </div>

            <!-- éš±è—çš„æŒ‡å®šæ—¥æœŸé¸æ“‡å™¨ -->
            <div class="date-picker hidden" id="date-picker" style="display: none;">
            </div>

            <!-- éš±è—çš„æŒ‡å®šå¹²æ”¯é¸æ“‡å™¨ -->
            <div class="ganzhi-picker hidden" id="ganzhi-picker" style="display: none;">
            </div>
            
            <!-- è¡¨æ ¼é¡¯ç¤ºå€åŸŸ -->
<div class="tables-container">
    <table class="main-info-table">
        <tr>
            <td class="table-cell">
                <!-- å¹²æ”¯æ—¬ç©ºè¡¨ -->
                <div class="table-with-title">
                    <div class="table-title">å¹²æ”¯æ—¬ç©º</div>
                    <table class="info-table" id="ganzhi-table">
                        <tr>
                            <td>å¹´</td>
                            <td>æœˆ</td>
                            <td>æ—¥</td>
                            <td>æ™‚</td>
                            <td>æ—¬ç©º</td>
                        </tr>
                        <tr>
                            <td id="t1">--</td>
                            <td id="t2">--</td>
                            <td id="t3">--</td>
                            <td id="t4">--</td>
                            <td id="k">--</td>
                        </tr>
                    </table>
                </div>
            </td>
            <td class="table-cell">
                <!-- äº”è¡Œæ—ºè¡°è¡¨ (åˆå§‹éš±è—) -->
                <div class="table-with-title">
                    <div class="table-title">äº”è¡Œæ—ºè¡°</div>
                    <table class="info-table hidden" id="wuxing-table">
                        <tr>
                            <td>æœ¨</td>
                            <td>ç«</td>
                            <td>åœŸ</td>
                            <td>é‡‘</td>
                            <td>æ°´</td>
                        </tr>
                        <tr>
                            <td id="w1">--</td>
                            <td id="w2">--</td>
                            <td id="w3">--</td>
                            <td id="w4">--</td>
                            <td id="w5">--</td>
                        </tr>
                    </table>
                </div>
            </td>
            <td class="table-cell">
                <!-- ç¥ç…è¡¨ (åˆå§‹éš±è—) -->
                <div class="table-with-title">
                    <div class="table-title">ç¥ç…</div>
                    <table class="info-table hidden" id="shensha-table">
                        <tr>
                            <td>é©›é¦¬</td>
                            <td>è²´äºº</td>
                            <td>æ¡ƒèŠ±</td>
                            <td>ç¥¿å­˜</td>
                        </tr>
                        <tr>
                            <td id="o1">--</td>
                            <td id="o2">--</td>
                            <td id="o3">--</td>
                            <td id="o4">--</td>
                        </tr>
                    </table>
                </div>
            </td>
        </tr>
    </table>
</div>
            <!-- ä¸»è¦å¦è¡¨å€åŸŸ -->
            <div class="main-table-section hidden" id="main-table-section">
                <table class="main-table">
                    <!-- æœ¬å¦å’Œè®Šå¦å€åŸŸ -->
                    <tr class="blue-header">
                        <td colspan="6">GN</td>
                        <td colspan="4">BGN</td>
                    </tr>
                    
                    <!-- å¦ä½è¡¨æ ¼ -->
                    <tr class="blue-header">
                        <td>å…­è¦ª</td><td>ä¼ç¥</td><td>å¦è±¡</td><td>åœ°æ”¯äº”è¡Œ</td><td>å…­è¦ª</td><td class="hidden-column">æ—¥æœˆ</td>
                        <td>åœ°æ”¯äº”è¡Œ</td><td>å…­è¦ª</td><td>å¦è±¡</td><td class="hidden-column">å¦è®Š</td>
                    </tr>
                    
                    <!-- å…­çˆ»ä½ç½® -->
                    <tr>
                        <td>A6</td><td>B6</td><td>C6</td><td>D6</td><td>E6</td><td class="hidden-column">F6</td>
                        <td>G6</td><td>H6</td><td>I6</td><td class="hidden-column">J6</td>
                    </tr>
                    <tr>
                        <td>A5</td><td>B5</td><td>C5</td><td>D5</td><td>E5</td><td class="hidden-column">F5</td>
                        <td>G5</td><td>H5</td><td>I5</td><td class="hidden-column">J5</td>
                    </tr>
                    <tr>
                        <td>A4</td><td>B4</td><td>C4</td><td>D4</td><td>E4</td><td class="hidden-column">F4</td>
                        <td>G4</td><td>H4</td><td>I4</td><td class="hidden-column">J4</td>
                    </tr>
                    <tr>
                        <td>A3</td><td>B3</td><td>C3</td><td>D3</td><td>E3</td><td class="hidden-column">F3</td>
                        <td>G3</td><td>H3</td><td>I3</td><td class="hidden-column">J3</td>
                    </tr>
                    <tr>
                        <td>A2</td><td>B2</td><td>C2</td><td>D2</td><td>E2</td><td class="hidden-column">F2</td>
                        <td>G2</td><td>H2</td><td>I2</td><td class="hidden-column">J2</td>
                    </tr>
                    <tr>
                        <td>A1</td><td>B1</td><td>C1</td><td>D1</td><td>E1</td><td class="hidden-column">F1</td>
                        <td>G1</td><td>H1</td><td>I1</td><td class="hidden-column">J1</td>
                    </tr>
                </table>
                
                <div class="section-header">
                    <button class="btn" onclick="backToSection1()">è¿”å›èµ·å¦</button>
                    <button class="btn" id="pigua-btn" onclick="showSimpleInterpretationWithAI()">å¹«æˆ‘è§£å¦</button>
                </div>
            </div>
        </div>
    </div>

<!-- ç°¡æ˜“è§£å¦Modal -->
<div id="simple-interpretation-modal" class="modal" style="display: none;">
    <div class="modal-content interpretation-modal">
        <span class="close-btn" onclick="closeSimpleInterpretation()">&times;</span>
        <h3>è§£å¦çµæœ</h3>
        <div id="simple-interpretation-content">
            <!-- è§£å¦å…§å®¹å°‡å‹•æ…‹è¼‰å…¥åˆ°é€™è£¡ -->
        </div>
        <div class="interpretation-footer">
            <button class="btn btn-secondary" onclick="closeSimpleInterpretation()">é—œé–‰</button>
        </div>
    </div>
</div>
<script>
  // å»ºè­°æ”¾ SVG æˆ–é€æ˜ PNGï¼Œå°ºå¯¸ç´„ 256x256
  window.COIN_FRONT_URL = '/assets/images/tutorial/front.png'; // æ­£é¢
  window.COIN_BACK_URL  = '/assets/images/tutorial/back.png';  // åé¢
</script>
<script src="/features/google-drive.js"></script>
<script src="/scripts/lunar-ganzhi.js"></script>
<script src="/scripts/advanced-calculations.js"></script>
<script src="/scripts/gua-calculations.js"></script>
<script src="/features/google-drive-records.js"></script>
<script src="/scripts/script.js"></script>
<script src="/features/file-handler.js"></script>
<script src="/features/learning-mode.js"></script>
<script src="/features/divination-simple.js"></script>
<script src="/features/ai-divination.js"></script>
<script src="/features/analytics-system.js"></script>
<script src="/features/divination-tutorial.js"></script>
</body>
</html>
